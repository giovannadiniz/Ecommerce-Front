<!--<div class="cart-container">-->
<!--  <h2>Seu Carrinho</h2>-->

<!--  @if (loading) {-->
<!--    <div class="loading">Carregando carrinho...</div>-->
<!--  }-->

<!--  @if (error) {-->
<!--    <div class="error">{{ error }}</div>-->
<!--  }-->

<!--  @if (!cart && !loading) {-->
<!--    <div class="empty-cart">-->
<!--      Seu carrinho está vazio-->
<!--    </div>-->
<!--  }-->

<!--  @if (cart) {-->
<!--    <div class="cart-item">-->
<!--      <div class="product-info">-->
<!--        <h3>{{ cart.productName }}</h3>-->
<!--        <p>{{ cart.product?.description }}</p>-->
<!--        <p>Preço: {{ cart.product?.price | currency:'BRL' }}</p>-->
<!--      </div>-->

<!--      <div class="quantity-control">-->
<!--        <button-->
<!--          (click)="decrementQuantity()"-->
<!--          [disabled]="newQuantity <= 1 || loading"-->
<!--        >-->
<!--          - -->
<!--        </button>-->
<!--        <span>{{ cart.quantity }}</span>-->
<!--        <button-->
<!--          (click)="incrementQuantity()"-->
<!--          [disabled]="loading"-->
<!--        >-->
<!--          +-->
<!--        </button>-->
<!--      </div>-->

<!--      <p>Total: {{ cart.total | currency:'BRL' }}</p>-->
<!--    </div>-->

<!--    <div class="cart-actions">-->
<!--      <button class="btn-clear">-->
<!--        Limpar Carrinho-->
<!--      </button>-->
<!--      <button class="btn-remove">-->
<!--        Remover Carrinho-->
<!--      </button>-->
<!--    </div>-->
<!--  }-->
<!--</div>-->
<div class="cart-container">
  <h2>Seu Carrinho</h2>

  @if (loading) {
    <div class="alert alert-info">Carregando carrinho...</div>
  }

  @if (error) {
    <div class="alert alert-danger">{{ error }}</div>
  }

  @if (successMessage) {
    <div class="alert alert-success">{{ successMessage }}</div>
  }

  @if (!cart && !loading) {
    <div class="empty-cart">Seu carrinho está vazio</div>
  }

  @if (cart) {
    <div class="cart-item">
      <div class="product-info">
        <h3>{{ cart.productName }}</h3>
        <p>{{ cart.product?.description }}</p>
        <p>Preço: {{ cart.product?.price | currency:'BRL' }}</p>
      </div>

      <div class="quantity-control">
        <button
          (click)="decrementQuantity()"
          [disabled]="newQuantity <= 1 || loading"
        >
          -
        </button>
        <input
          type="number"
          min="1"
          [(ngModel)]="newQuantity"
          (ngModelChange)="newQuantity = $event > 0 ? $event : 1"
          [disabled]="loading"
          style="width: 60px; text-align: center;"
        />
        <button
          (click)="incrementQuantity()"
          [disabled]="loading"
        >
          +
        </button>
      </div>

      <p>Total: {{ cart.total | currency:'BRL' }}</p>
    </div>

    <div class="cart-actions">
      <button
        (click)="updateQuantity()"
        [disabled]="loading || newQuantity === cart.quantity"
        class="btn btn-primary"
      >
        {{ loading ? 'Atualizando...' : 'Atualizar Quantidade' }}
      </button>
      <button
        (click)="removeCart()"
        [disabled]="loading"
        class="btn btn-remove"
      >
        Remover Carrinho
      </button>
<!--      <button-->
<!--        (click)="clearCart()"-->
<!--        [disabled]="loading"-->
<!--        class="btn-clear"-->
<!--      >-->
<!--        Limpar Carrinho-->
<!--      </button>-->
<!--      <button-->
<!--        (click)="removeCart()"-->
<!--        [disabled]="loading"-->
<!--        class="btn-remove"-->
<!--      >-->
<!--        Remover Carrinho-->
<!--      </button>-->
    </div>
  }
</div>
