<div class="cart-container">
  <h2>Seu Carrinho</h2>

  @if (loading) {
    <div class="loading">Carregando carrinho...</div>
  }

  @if (error) {
    <div class="error">{{ error }}</div>
  }

  @if (!cart && !loading) {
    <div class="empty-cart">
      Seu carrinho está vazio
    </div>
  }

  @if (cart) {
    <div class="cart-item">
      <div class="product-info">
        <h3>{{ cart.product?.name }}</h3>
        <p>{{ cart.product?.description }}</p>
        <p>Preço: {{ cart.product?.price | currency:'BRL' }}</p>
      </div>

      <div class="quantity-control">
        <button
          (click)="updateQuantity(cart.quantity - 1)"
          [disabled]="cart.quantity <= 1"
        >
          -
        </button>
        <span>{{ cart.quantity }}</span>
        <button
          (click)="updateQuantity(cart.quantity + 1)"
        >
          +
        </button>
      </div>

      <p>Total: {{ cart.total | currency:'BRL' }}</p>
    </div>

    <div class="cart-actions">
      <button (click)="clearCart()" class="btn-clear">
        Limpar Carrinho
      </button>
      <button (click)="removeCart()" class="btn-remove">
        Remover Carrinho
      </button>
    </div>
  }
</div>
